<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <title>Reporte de Inventario Valorizado</title>
    <style>
        /* Tipografía base */
        body {
            font-family: Arial, sans-serif;
            color: #333;
            margin: 0;
            padding: 0;
        }

        /* Tabla de Encabezado */
        .header-table {
            width: 100%;
            border-bottom: 2px solid #444;
            margin-bottom: 15px;
        }

        .header-logo {
            width: 90px;
            height: auto;
            max-width: 100px;
        }

        .business-info {
            text-align: center;
        }

            .business-info h2 {
                margin: 0;
                color: #1a5276;
                font-size: 18px;
                text-transform: uppercase;
            }

            .business-info p {
                margin: 2px 0;
                font-size: 10px;
                color: #555;
            }

        .date-info {
            text-align: right;
            font-size: 9px;
            line-height: 1.2;
        }

        /* Título Principal */
        .report-title {
            text-align: center;
            background-color: #1a5276;
            color: white;
            padding: 8px;
            margin-bottom: 15px;
            border-radius: 4px;
        }

            .report-title h3 {
                margin: 0;
                letter-spacing: 1px;
                font-size: 14px;
            }

        /* --- CORRECCIÓN DE ESPACIADO EN RESUMEN (KPIs) --- */
        .summary-table {
            width: 100%;
            margin-bottom: 20px;
            border-spacing: 10px; /* Más espacio entre cuadros */
            border-collapse: separate;
        }

        .summary-box {
            border: 1px solid #d1d1d1;
            background-color: #fcfcfc;
            padding: 12px 5px; /* 12px arriba/abajo para dar aire */
            text-align: center;
            width: 20%;
            border-radius: 4px;
            vertical-align: top; /* Asegura alineación superior */
        }

        /* Usamos clases específicas en lugar de etiquetas genéricas para asegurar el estilo */
        .kpi-title {
            display: block;
            font-size: 9px;
            color: #1a5276;
            text-transform: uppercase;
            border-bottom: 1px solid #eee;
            margin-bottom: 8px; /* Separación entre el título y el número */
            padding-bottom: 3px;
            font-weight: bold;
        }

        .kpi-value {
            display: block;
            font-size: 11px; /* Un poco más grande para destacar */
            font-weight: bold;
            margin-top: 2px;
        }

        /* Tabla de Datos Principal */
        table.data-table {
            border-collapse: collapse;
            width: 100%;
            table-layout: fixed;
        }

            table.data-table thead tr {
                background-color: #2c3e50;
                color: white;
            }

            table.data-table th {
                padding: 10px 4px; /* Más aire en encabezados */
                text-align: center;
                font-size: 9px;
                text-transform: uppercase;
                border: 1px solid #2c3e50;
            }

            table.data-table td {
                border: 1px solid #ddd;
                padding: 8px 5px; /* Más aire en las celdas */
                font-size: 9px;
                word-wrap: break-word;
            }

        /* === COLORES DEFINITIVOS (Tonos medios/fuertes) === */

        /* Stock Bajo: Ámbar Intenso (#FFD54F) */
        tr.stock-bajo td {
            background-color: #FFD54F;
            color: #000000;
        }

        /* Stock Agotado: Rojo Salmón Fuerte (#EF9A9A) */
        tr.stock-agotado td {
            background-color: #EF9A9A;
            color: #000000;
        }

        /* Utilidades */
        .text-center {
            text-align: center;
        }

        .text-right {
            text-align: right;
        }
    </style>
</head>
<body>
    <table class="header-table">
        <tr>
            <td style="width:15%; text-align:left; vertical-align:middle;">
                <img src="{{logo}}" class="header-logo" alt="Logo" />
            </td>
            <td class="business-info" style="width:70%;">
                <h2>{{nombrenegocio}}</h2>
                <p>RIF: {{rifnegocio}}</p>
                <p>{{direccionnegocio}}</p>
            </td>
            <td style="width:15%; vertical-align:top;" class="date-info">
                <p><strong>FECHA EMISIÓN:</strong><br />{{fecha}}</p>
            </td>
        </tr>
    </table>

    <div class="report-title">
        <h3>REPORTE DE INVENTARIO VALORIZADO</h3>
    </div>

    <table class="summary-table">
        <tr>
            <td class="summary-box">
                <div class="kpi-title">Total Productos</div>
                <div class="kpi-value">{{totalprods}}</div>
            </td>
            <td class="summary-box">
                <div class="kpi-title">Valor (Costo)</div>
                <div class="kpi-value">{{vcosto}}</div>
            </td>
            <td class="summary-box">
                <div class="kpi-title">Valor (Venta)</div>
                <div class="kpi-value">{{vventa}}</div>
            </td>
            <td class="summary-box">
                <div class="kpi-title">Stock Bajo</div>
                <div class="kpi-value" style="color: #B7950B;">{{sbajo}}</div>
            </td>
            <td class="summary-box">
                <div class="kpi-title">Agotados</div>
                <div class="kpi-value" style="color: #C0392B;">{{sagotado}}</div>
            </td>
        </tr>
    </table>

    <table class="data-table">
        <thead>
            <tr>
                <th style="width:12%">Código</th>
                <th style="width:34%">Descripción del Producto</th>
                <th style="width:8%">Stock</th>
                <th style="width:11%">Costo U.</th>
                <th style="width:12%">Total Costo</th>
                <th style="width:11%">P. Venta</th>
                <th style="width:12%">Total Venta</th>
            </tr>
        </thead>
        <tbody>
            {{filas}}
        </tbody>
    </table>
</body>
</html>