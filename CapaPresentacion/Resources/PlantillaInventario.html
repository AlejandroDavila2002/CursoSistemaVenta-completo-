<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <title>Reporte de Inventario Valorizado</title>
    <style>
        /* Tipografía base */
        body {
            font-family: Arial, sans-serif;
            color: #333;
            margin: 0;
            padding: 0;
        }

        /* Tabla de Encabezado: Se usa ancho total y alineación vertical media */
        .header-table {
            width: 100%;
            border-bottom: 2px solid #444;
            margin-bottom: 15px;
        }

        /* Logo: Se define un ancho máximo para evitar que rompa el layout si la imagen es grande */
        .header-logo {
            width: 90px;
            height: auto;
            max-width: 100px;
        }

        .business-info {
            text-align: center;
        }

            .business-info h2 {
                margin: 0;
                color: #1a5276;
                font-size: 18px;
                text-transform: uppercase;
            }

            .business-info p {
                margin: 2px 0;
                font-size: 10px;
                color: #555;
            }

        .date-info {
            text-align: right;
            font-size: 9px;
            line-height: 1.2;
        }

        /* Título Principal */
        .report-title {
            text-align: center;
            background-color: #1a5276;
            color: white;
            padding: 8px;
            margin-bottom: 15px;
            border-radius: 4px;
        }

            .report-title h3 {
                margin: 0;
                letter-spacing: 1px;
                font-size: 14px;
            }

        /* Contenedores de Resumen (KPIs) usando tablas para máxima compatibilidad */
        .summary-table {
            width: 100%;
            margin-bottom: 20px;
            border-spacing: 5px;
            border-collapse: separate;
        }

        .summary-box {
            border: 1px solid #d1d1d1;
            background-color: #fcfcfc;
            padding: 5px;
            text-align: center;
            width: 20%;
            border-radius: 4px;
        }

            .summary-box strong {
                display: block;
                font-size: 8px;
                color: #1a5276;
                text-transform: uppercase;
                border-bottom: 1px solid #eee;
                margin-bottom: 3px;
            }

        .summary-value {
            font-size: 11px;
            font-weight: bold;
        }

        /* Tabla de Datos Principal */
        table.data-table {
            border-collapse: collapse;
            width: 100%;
            table-layout: fixed;
        }

            table.data-table thead tr {
                background-color: #2c3e50;
                color: white;
            }

            table.data-table th {
                padding: 6px 3px;
                text-align: center;
                font-size: 9px;
                text-transform: uppercase;
                border: 1px solid #2c3e50;
            }

            table.data-table td {
                border: 1px solid #ddd;
                padding: 5px 3px;
                font-size: 8.5px;
                word-wrap: break-word; /* Evita que textos largos desborden la celda */
            }

        /* Utilidades de alineación */
        .text-center {
            text-align: center;
        }

        .text-right {
            text-align: right;
        }

        .bold {
            font-weight: bold;
        }
    </style>
</head>
<body>
    <table class="header-table">
        <tr>
            <td style="width:15%; text-align:left; vertical-align:middle;">
                <img src="{{logo}}" class="header-logo" alt="Logo" />
            </td>
            <td class="business-info" style="width:70%;">
                <h2>{{nombrenegocio}}</h2>
                <p>RIF: {{rifnegocio}}</p>
                <p>{{direccionnegocio}}</p>
            </td>
            <td style="width:15%; vertical-align:top;" class="date-info">
                <p><strong>FECHA EMISIÓN:</strong><br />{{fecha}}</p>
            </td>
        </tr>
    </table>

    <div class="report-title">
        <h3>REPORTE DE INVENTARIO VALORIZADO</h3>
    </div>

    <table class="summary-table">
        <tr>
            <td class="summary-box"><strong>Total Productos</strong><span class="summary-value">{{totalprods}}</span></td>
            <td class="summary-box"><strong>Valor (Costo)</strong><span class="summary-value">{{vcosto}}</span></td>
            <td class="summary-box"><strong>Valor (Venta)</strong><span class="summary-value">{{vventa}}</span></td>
            <td class="summary-box"><strong>Stock Bajo</strong><span class="summary-value" style="color: #a04000;">{{sbajo}}</span></td>
            <td class="summary-box"><strong>Agotados</strong><span class="summary-value" style="color: #943126;">{{sagotado}}</span></td>
        </tr>
    </table>

    <table class="data-table">
        <thead>
            <tr>
                <th style="width:12%">Código</th>
                <th style="width:34%">Descripción del Producto</th>
                <th style="width:8%">Stock</th>
                <th style="width:11%">Costo U.</th>
                <th style="width:12%">Total Costo</th>
                <th style="width:11%">P. Venta</th>
                <th style="width:12%">Total Venta</th>
            </tr>
        </thead>
        <tbody>
            {{filas}}
        </tbody>
    </table>
</body>
</html>